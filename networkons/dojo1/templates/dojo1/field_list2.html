<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootswatch/4.0.0-beta.3/flatly/bootstrap.min.css" />

<div class="container">
    <div class="row">
        <div class="col-sm-12">
            <h1>Field List 2</h1>

            <form action="" method="get">
                <input type="text" name="q" value="{{ q }}" />
                <input type="submit" class="btn btn-primary" value="검색" />
            </form>


            <div id="map" style="width: 100%; height: 300px;">
            </div>

            <script src="https://openapi.map.naver.com/openapi/v3/maps.js?clientId=yHHIYl4B0yPlcCfkX_0z&amp;submodules=panorama,geocoder,drawing,visualization"></script>

            <script>
var map = new naver.maps.Map('map', {
    // 아래에서 place_list에서 center를 지정하므로 제거
    // center: new naver.maps.LatLng(37.3595704, 127.105399),
    zoom: 7
});

{% for row in place_list %}
    {% if forloop.first %}
        map.setCenter(new naver.maps.LatLng({{ row.latitute }}, {{ row.longitude }}));
    {% endif %}
    var marker = new naver.maps.Marker({
        map: map,
        position: new naver.maps.LatLng({{ row.latitute }}, {{ row.longitude }}),
        title: "{{ row.voc_type }}"
    });
{% endfor %}
            </script>


        </div>
    </div>
</div>

